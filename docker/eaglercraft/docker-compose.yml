services:
  eaglercraft:
    image: nginx:1.25.5
    networks:
      - default
      - traefik
    labels:
      - traefik.enable=true
      - traefik.http.routers.R0.rule=Host(`eaglercraft.yuuk1.uk`)
      - traefik.http.routers.R0.entryPoints=websecure
      - traefik.http.routers.R0.tls=true
      - traefik.http.routers.R0.tls.certResolver=letsencrypt
      - traefik.http.routers.R0.service=S0
      - traefik.http.services.S0.loadbalancer.server.port=80
    volumes:
      - ../../repo/eaglercraft:/usr/share/nginx/html

networks:
  traefik:
    external: true
    name: traefik
